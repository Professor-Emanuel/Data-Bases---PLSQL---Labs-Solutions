CREATE TABLE COURSE(
COURSE_NO NUMBER(8,0) NOT NULL PRIMARY KEY,
DESCRIPTION VARCHAR2(50),
COST NUMBER(9,2),
PREREQUISITE NUMBER(8,0) REFERENCES COURSE(COURSE_NO),
CREATED_BY VARCHAR2(30) NOT NULL,
CREATED_DATE DATE NOT NULL,
MODIFIED_BY VARCHAR2(30) NOT NULL,
MODIFIED_DATE DATE NOT NULL);

CREATE TABLE SECTION(
SECTION_ID NUMBER(8,0) NOT NULL PRIMARY KEY,
COURSE_NO NUMBER(8,0) NOT NULL REFERENCES COURSE(COURSE_NO),
SECTION_NO NUMBER(3) NOT NULL,
START_DATE_TIME DATE,
LOCATION VARCHAR2(50),
INSTRUCTOR_ID NUMBER(8,0) NOT NULL REFERENCES INSTRUCTOR(INSTRUCTOR_ID),
CAPACITY NUMBER(3,0),
CREATED_BY VARCHAR2(30) NOT NULL,
CREATED_DATE DATE NOT NULL,
MODIFIED_BY VARCHAR2(30) NOT NULL,
MODIFIED_DATE DATE NOT NULL);

CREATE TABLE STUDENT(
STUDENT_ID number(8,0) NOT NULL PRIMARY KEY,
SALUTATION VARCHAR2(5),
FIRST_NAME VARCHAR2(25),
LAST_NAME VARCHAR2(25) NOT NULL,
STREET_ADRESS VARCHAR2(5),
ZIP VARCHAR2(5) NOT NULL,
PHONE VARCHAR2(15),
EMPLOYER VARCHAR2(50),
REGISTRATION_DATE DATE NOT NULL,
CREATED_BY VARCHAR2(30) NOT NULL,
CREATED_DATE DATE NOT NULL,
MODIFIED_BY VARCHAR2(30) NOT NULL,
MODIFIED_DATE DATE NOT NULL);

CREATE TABLE ENROLLMENT(
STUDENT_ID NUMBER(8,0) NOT NULL ,
SECTION_ID NUMBER(8,0) NOT NULL ,
ENROLL_DATE DATE NOT NULL,
FINAL_GRADE NUMBER(3,0),
CREATED_BY VARCHAR2(30) NOT NULL,
CREATED_DATE DATE NOT NULL,
MODIFIED_BY VARCHAR2(30) NOT NULL,
MODIFIED_DATE DATE NOT NULL);

CREATE TABLE INSTRUCTOR(
INSTRUCTOR_ID NUMBER(8) NOT NULL,
SALUTATION VARCHAR2(5),
FIRST_NAME VARCHAR2(25),
LAST_NAME VARCHAR2(25),
STREET_ADRESS VARCHAR2(50),
ZIP VARCHAR2(5),
PHONE VARCHAR2(15),
CREATED_BY VARCHAR2(30) NOT NULL,
CREATED_DATE DATE NOT NULL,
MODIFIED_BY VARCHAR2(30) NOT NULL,
MODIFIED_DATE DATE NOT NULL);

CREATE TABLE ZIPCODE(
ZIP VARCHAR2(5) NOT NULL PRIMARY KEY,
CITY VARCHAR2(25),
STATE VARCHAR2(2),
CREATED_BY VARCHAR2(30) NOT NULL,
CREATED_DATE DATE NOT NULL,
MODIFIED_BY VARCHAR2(30) NOT NULL,
MODIFIED_DATE DATE NOT NULL);

CREATE TABLE GRADE_TYPE(
GRADE_TYPE_CODE CHAR(2) NOT NULL PRIMARY KEY,
DESCRIPTION VARCHAR2(50) NOT NULL,
CREATED_BY VARCHAR2(30) NOT NULL,
CREATED_DATE DATE NOT NULL,
MODIFIED_BY VARCHAR2(30) NOT NULL,
MODIFIED_DATE DATE NOT NULL);

CREATE TABLE GRADE_TYPE_WEIGHT(
SECTION_ID NUMBER(8) NOT NULL,
GRADE_TYPE_CODE CHAR(2) NOT NULL,
NUMBER_PER_SECTION NUMBER(3) NOT NULL,
PERCENT_OF_FINAL_GRADE NUMBER(3) NOT NULL,
DROP_LOWEST CHAR(1) NOT NULL,
CREATED_BY VARCHAR2(30) NOT NULL,
CREATED_DATE DATE NOT NULL,
MODIFIED_BY VARCHAR2(30) NOT NULL,
MODIFIED_DATE DATE NOT NULL);

CREATE TABLE GRADE(
STUDENT_ID NUMBER(8) NOT NULL,
SECTION_ID NUMBER(8) NOT NULL,
GRADE_TYPE_CODE CHAR(2) NOT NULL,
GRADE_CODE_OCCURRENCE NUMBER(3,8) NOT NULL,
NUMERIC_GRADE NUMBER(3) NOT NULL,
COMMENTS VARCHAR2(2000),
CREATED_BY VARCHAR2(30) NOT NULL,
CREATED_DATE DATE NOT NULL,
MODIFIED_BY VARCHAR2(30) NOT NULL,
MODIFIED_DATE DATE NOT NULL);

CREATE TABLE GRADE_CONVERSION(
LETTER_GRADE VARCHAR2(2) NOT NULL,
GRADE_POINT NUMBER(3,2) NOT NULL,
MAX_GRADE NUMBER(3) NOT NULL,
MIN_GRADE NUMBER(3) NOT NULL,
CREATED_BY VARCHAR2(30) NOT NULL,
CREATED_DATE DATE NOT NULL,
MODIFIED_BY VARCHAR2(30) NOT NULL,
MODIFIED_DATE DATE NOT NULL);

ALTER TABLE STUDENT
ADD CONSTRAINT STU_ZIP_FK
FOREIGN KEY(ZIP) REFERENCES ZIPCODE(ZIP);

ALTER TABLE INSTRUCTOR
ADD CONSTRAINT INSTRUCTOR_PK
PRIMARY KEY (INSTRUCTOR_ID);

ALTER TABLE ENROLLMENT
ADD CONSTRAINT ENROLLMENT_PK
PRIMARY KEY (STUDENT_ID,SECTION_ID);

ALTER TABLE ENROLLMENT
ADD CONSTRAINT ENR_STU_FK
FOREIGN KEY(STUDENT_ID) REFERENCES STUDENT(STUDENT_ID);

ALTER TABLE ENROLLMENT
ADD CONSTRAINT ENR_SEC_FK
FOREIGN KEY(SECTION_ID) REFERENCES SECTION(SECTION_ID);

ALTER TABLE GRADE_TYPE_WEIGHT
ADD CONSTRAINT GRADE_TYPE_WEIGHT_PK
PRIMARY KEY (SECTION_ID,GRADE_TYPE_CODE);

ALTER TABLE GRADE_TYPE_WEIGHT
ADD CONSTRAINT GRTW_SECT_FK
FOREIGN KEY(SECTION_ID) REFERENCES SECTION(SECTION_ID);

ALTER TABLE GRADE_TYPE_WEIGHT
ADD CONSTRAINT GRTW_GRTYP_FK
FOREIGN KEY(GRADE_TYPE_CODE) REFERENCES GRADE_TYPE(GRADE_TYPE_CODE);

ALTER TABLE GRADE
ADD CONSTRAINT GRADE_PK
PRIMARY KEY(STUDENT_ID,SECTION_ID,GRADE_CODE_OCCURRENCE,GRADE_TYPE_CODE);

ALTER TABLE GRADE
ADD CONSTRAINT GR_ENR_FK
FOREIGN KEY(STUDENT_ID,SECTION_ID) REFERENCES ENROLLMENT(STUDENT_ID,SECTION_ID);

ALTER TABLE GRADE
ADD CONSTRAINT GR_GRTW_FK
FOREIGN KEY(SECTION_ID,GRADE_TYPE_CODE) REFERENCES GRADE_TYPE_WEIGHT(SECTION_ID,GRADE_TYPE_CODE);

SELECT * FROM SECTION;